<p id="notice"><%= notice %></p>

<h1>Coffee Shops</h1>

<%= form_with url: coffee_shops_path, method: :get, local: true do %>
  <%= label_tag :keyword, "Search:" %>
  <%= text_field_tag :keyword, @keyword %>
  <%= label_tag :rating_filter, "Filter by Rating:" %>
  <%= select_tag :rating_filter, options_for_select([["All", ""], ["1-2", "1-2"], ["3-4", "3-4"], ["4-5", "4-5"]], selected: @rating_filter) %>
  <%= submit_tag "Search", name: nil %>
<% end %>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Location</th>
      <th>Rating</th>
      <th>Description</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @coffee_shops.each do |coffee_shop| %>
      <tr>
        <td><%= coffee_shop.name %></td>
        <td><%= coffee_shop.location %></td>
        <td><%= coffee_shop.rating %></td>
        <td><%= coffee_shop.description %></td>
        <td><%= link_to 'Show', coffee_shop %></td>
        <td><%= link_to 'Edit', edit_coffee_shop_path(coffee_shop) %></td>
        <td><%= link_to 'Destroy', coffee_shop, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @coffee_shops %>


<br>

<%= link_to 'New Coffee Shop', new_coffee_shop_path %>
